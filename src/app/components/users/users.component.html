<div class="admin-dashboard-container">
    <h2 class="admin-dashboard-title">User Management</h2>

    <div *ngIf="isLoading" class="loading-indicator">
        <i class="fas fa-spinner fa-spin"></i> Loading users...
    </div>

    <div class="table-responsive">
        <table class="admin-table">
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Phone</th>
                    <th scope="col">Email</th>
                    <th scope="col">Membership</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>
            <tbody>
                @for (user of users; track user.id) {
                @if (user.email.toLowerCase() !== 'admin@gmail.com') {
                <tr>
                    <td class="user-name">{{user.firstName}} {{user.lastName}}</td>
                    <td>{{user.phoneNumber}}</td>
                    <td class="user-email">{{user.email}}</td>
                    <td>
                        <span class="membership-badge">{{user.membershipName}}</span>
                    </td>
                    <td class="actions-cell">
                        <button class="btn-show" routerLink='/profile/{{user.id}}'>
                            <i class="fa-solid fa-eye"></i>
                        </button>
                        <button class="btn-delete" (click)="deleteUser(user.id)">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </td>
                </tr>
                }
                }
            </tbody>
        </table>
    </div>
</div>